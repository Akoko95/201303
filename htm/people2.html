<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <link rel="stylesheet" href="../css/pmag.css" type="text/css" />
</head>
<body>
<div id="header_wrap">
   <h1><a href="https://www.facebook.com/groups/programmerMagazine">程式人雜誌</a> <sub> --  2013 年 3 月號 (開放公益出版品)</sub></h1>
</div>
<div id="content">
<h2 id="llvm編譯器基礎架構的靈魂人物-chris-lattner">LLVM編譯器基礎架構的靈魂人物-Chris Lattner</h2>
<p>前一篇文章中，我們介紹了開放原始碼之父 Richard Stallman ，他所創造的 GNU 組織，設計出了 gcc 的整套編譯器與工具鏈，對開放原始碼世界造成非常深遠的影響。現在、我們將介紹 Apple 所採用新一代編譯器 LLVM 的重要靈魂人物：Chris Lattner。</p>
<p>2000年，Chris Lattner 自奧勒岡州波特蘭大學（University of Portland）計算機科學系畢業後，進入伊利諾伊大學厄巴納-香檳分校 (University of Illinois at Urbana-Champaign ) 就讀。在此期間，他與維克拉姆·艾夫（Vikram Adve）發起 LLVM 專案，並於2003年發表。</p>
<p>LLVM 的全名是 Low Level Virtual Machine，因為 LLVM 的設計的初始目標是為所有靜態及動態語言創造出動態的編譯技術，但後來 LLVM 不斷的擴大之後，專案範圍已經不再侷限於虛擬機，成為以編譯器為核心的一個基礎架構，包含編譯、連結、除錯等等相關工具，其原始碼採用 BSD 的授權協定。</p>
<p>現在 LLVM 已經單純成為一個縮寫標記，適用於 LLVM 底下的所有專案，包含 LLVM 中介碼(LLVM IR)、LLDB 除錯工具、LLVM C++ 標準函式庫等等。</p>
<p>2005年，蘋果公司僱用了 Chris Lattner 及他的團隊，目的是將 LLVM 帶入蘋果公司，創立編譯器團隊並改進蘋果系統的速度與品質，並且同時啟動了 Clang 這個子計畫，負責改進蘋果系統的主要開發語言 Objective-C (同時支援 C/C++)、將 LLVM 納入到蘋果開發工具 Xcode 中，並且開始孕育並培養 LLVM 的開放原始碼社群。</p>
<p>2010 年，ACM 組織的 SIGPLAN 團體頒贈了「程式語言軟體獎」(Programming Languages Software Award) 給 Chris Lattner，以表彰他在 LLVM 上的貢獻，</p>
<p>LLVM 目前支援 Ada、C、C++、D、Fortran 及 Objective-C 等語言，也有人寫了 Haskell 的 LLVM 編譯器。現在、LLVM 已經成為 GNU 編譯器工具鏈 gcc 的一個競爭方案。而且、由於 gcc 已經是個歷史悠久的專案了，相對的很多程式碼也會比較陳舊而難以維護，因此 LLVM 或許能取代 gcc 而成為未來開放原始碼領域的主要編譯工具也說不定，因為 LLVM 的架構感覺上比 gcc 更清楚，更容易維護。</p>
<p>LLVM 編譯器基本上屬於彈性的三層式編譯器架構，基本上可分為 Frontend (前端)、IR 與最佳化、Backend (後端) 等幾部分，這種方式可以有效的將「高階語言」與「目標語言」兩者分離開來，形成一個多對多的架構，會比較容易就可以加入新的高階語言，或者產生新的目標語言，此種架構如下圖所示。</p>
<div class="figure">
<img src="../img/RetargetableCompiler.png" alt="圖、典型的三層式編譯器架構" /><p class="caption">圖、典型的三層式編譯器架構</p>
</div>
<p>在編譯器領域，已經有不少人開始高度注意 LLVM 這個專案，並且實際在各個領域，您可以在 <a href="http://llvm.org/docs/"><code class="url">http://llvm.org/docs/</code></a> 當中找到 LLVM 的相關技術資訊。</p>
<p>特別值得一提的是，筆者正在進行的「開放電腦計畫」這個企圖自行建立 「CPU、Assembler、Compiler、OS、虛擬機」的計畫中，原本進度稍嫌緩慢，但是在我大哥決定為此計畫的處理器 CPU0 寫一個 LLVM Backend 程式，並寫出了 <a href="http://jonathan2251.github.com/lbd/">Tutorial: Creating an LLVM Backend for the Cpu0 Architecture</a> 這本書籍之後，就往前邁進了很多。有了 LLVM Backend 的技術，就讓我們有機會可以用標準的 C 語言將現成的小型作業系統，像是 UNIXv6、MINIX 或 RTThread 等作業系統，移植到 CPU0 上，以便完成整個計畫了。</p>
<h3 id="參考文獻">參考文獻</h3>
<ul>
<li>Chris Lattner’s Homepage – <a href="http://www.nondot.org/sabre/"><code class="url">http://www.nondot.org/sabre/</code></a></li>
<li>Chris Lattner – <a href="http://www.techcn.com.cn/index.php?doc-view-148143.html"><code class="url">http://www.techcn.com.cn/index.php?doc-view-148143.html</code></a></li>
<li>LLVM 2.0 – <a href="http://www.youtube.com/watch?v=029YXzHtRy0"><code class="url">http://www.youtube.com/watch?v=029YXzHtRy0</code></a></li>
<li>Mac OS X 背后的故事（八）三好学生Chris Lattner的LLVM编译工具链 – <a href="http://www.programmer.com.cn/9436/"><code class="url">http://www.programmer.com.cn/9436/</code></a></li>
<li><a href="http://zh.wikipedia.org/wiki/LLVM"><code class="url">http://zh.wikipedia.org/wiki/LLVM</code></a></li>
<li><a href="http://en.wikipedia.org/wiki/Chris_Lattner"><code class="url">http://en.wikipedia.org/wiki/Chris_Lattner</code></a></li>
<li>LLVM, Chris Lattner – <a href="http://www.aosabook.org/en/llvm.html"><code class="url">http://www.aosabook.org/en/llvm.html</code></a></li>
</ul>
<p>【本文由陳鍾誠取材並修改自維基百科】</p>
</div>
<div id="footer">
<a href="https://www.facebook.com/groups/programmerMagazine/">程式人雜誌</a> 2013 年 3 月號，採用 <a href="http://creativecommons.org/licenses/by-sa/3.0/tw/ ">創作共用：姓名標示、相同方式分享</a> 授權，歡迎加入 <a href="https://www.facebook.com/groups/programmerMagazine/">雜誌社團</a>
</div>
</body>
</html>
